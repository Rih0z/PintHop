name = "pinthop-api"
main = "src/worker-with-registration.ts"
compatibility_date = "2024-01-01"

[vars]
NODE_ENV = "production"
CORS_ORIGIN = "https://67515bf9.pinthop.pages.dev"

# KV Namespace for user storage
[[kv_namespaces]]
binding = "USERS_KV"
id = "your_kv_namespace_id"
preview_id = "your_preview_kv_namespace_id"

# 環境変数の定義
# 実際の値はCloudflare Dashboardで設定します
# wrangler secret put JWT_SECRET
# wrangler secret put MONGODB_URI (optional for KV version)

[[compatibility_flags]]
nodejs_compat = true